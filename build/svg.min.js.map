{"version":3,"file":"svg.min.js","sources":["svg.js"],"names":["global","observer","ev","on","eventName","fn","this","push","one","once","off","i","length","splice","trigger","opts","slice","call","arguments","fns","busy","apply","SVG","options","ns","xlink","xhtml","did","eid","element","name","attrs","namespace","node","document","createElementNS","setAttribute","attr","attributes","attribute","Shape","_this","isEditable","onclick","stopPropagation","prototype","size","width","height","move","x","y","Document","svgid","create","version","xmlns","xmlns:xlink","container","getElementById","innerHTML","appendChild","add","shape","MeezioSVG","editable","color","rotate","preserveAspectRatio","resizeNW","resizeNE","resizeSE","resizeSW","resizeN","resizeE","resizeS","resizeW","editText","removeSelection","selectedShape","drawSelection","querySelector","parentNode","removeChild","editableOptions","Object","assign","setSelection","box","baseVal","value","svgDoc","closest","selection","class","style","scale","vb","getAttribute","split","w","parseInt","h","bound","getBoundingClientRect","scaleX","scaleY","Math","round","transform","drawFrame","drawRotateHandle","drawResizeHandle","getValidEastOffset","dim","maxBox","minBox","deltaX","ret","getValidWestOffset","getValidSouthOffset","deltaY","getValidNorthOffset","moveDown","frame","firstChild","getBBox","translateNode","moveRight","moveUp","moveLeft","moveUpLeft","aspectRatio","moveDownRight","moveDownLeft","moveUpRight","translate","insertBefore","lastChild","nextSibling","initPositionX","initPositionY","fill","stroke","stroke-width","stroke-dasharray","pointer-events","onmousedown","clientX","clientY","disableSelection","window","addEventListener","onmove","onmoveEnd","ontouchstart","ondblclick","console","log","removeEventListener","enableSelection","cursor","type","point","trans","getItem","setTranslate","matrix","e","f","background","cx","cy","r","stroke-opacity","forground","onresize","onresizeEnd","arrow","d","onrotate","onrotateEnd","html","removeAttribute","place","left","top","right","bottom","newBox","opt","shapeBox"],"mappings":"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"}