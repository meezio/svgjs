{"version":3,"file":"svg.min.js","sources":["svg.js"],"names":["global","observer","ev","on","eventName","fn","this","push","one","once","off","i","length","splice","trigger","opts","slice","call","arguments","fns","busy","apply","SVG","options","ns","xlink","xhtml","did","eid","element","name","attrs","namespace","node","document","createElementNS","setAttribute","attr","attributes","attribute","Shape","_this","isEditable","onclick","stopPropagation","prototype","size","width","height","move","x","y","Document","svgid","create","version","xmlns","xmlns:xlink","container","getElementById","innerHTML","appendChild","add","shape","MeezioSVG","editable","color","rotate","preserveAspectRatio","resizeNW","resizeNE","resizeSE","resizeSW","resizeN","resizeE","resizeS","resizeW","editText","removeSelection","selectedShape","drawSelection","querySelector","parentNode","removeChild","editableOptions","Object","assign","setSelection","tmp","getBBox","box","svgDoc","closest","selection","class","style","scale","vb","getAttribute","split","w","parseInt","h","bound","getBoundingClientRect","scaleX","scaleY","Math","round","transform","drawFrame","drawRotateHandle","drawResizeHandle","getValidEastOffset","dim","maxBox","minBox","deltaX","ret","getValidWestOffset","getValidSouthOffset","deltaY","getValidNorthOffset","moveDown","frame","firstChild","translateNode","moveRight","moveUp","moveLeft","moveUpLeft","aspectRatio","moveDownRight","moveDownLeft","moveUpRight","translate","insertBefore","lastChild","nextSibling","initPositionX","initPositionY","fill","stroke","stroke-width","stroke-dasharray","pointer-events","onmousedown","clientX","clientY","disableSelection","window","addEventListener","onmove","onmoveEnd","ontouchstart","ondblclick","console","log","removeEventListener","enableSelection","cursor","type","point","trans","baseVal","getItem","setTranslate","matrix","e","f","background","cx","cy","r","stroke-opacity","forground","onresize","onresizeEnd","arrow","d","onrotate","onrotateEnd","html","removeAttribute","place","left","top","right","bottom","newBox","opt","shapeBox"],"mappings":"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"}